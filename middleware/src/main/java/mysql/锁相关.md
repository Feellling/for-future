
https://www.cnblogs.com/sessionbest/articles/8689082.html

#### 锁互斥的情况：
1. 不走索引，直接锁表
2. 行锁是针对索引加锁，所以使用相同索引的不同行都会被加锁
3. 多个索引时，会使用行锁对数据加锁！所以即使索引不同，但是也会互斥
#### 间隙锁：
1. 解决幻读问题
2. 解决数据恢复与复制问题
   insert aa select * from bb
   create table aa select * from bb
   不加间隙锁，会导致binlog中的sql顺序错误。虽然结果一致