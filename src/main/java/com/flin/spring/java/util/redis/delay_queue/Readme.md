## 延时队列
场景：只有一组消费者的时候，不需要用到相对复杂的rabbitMQ的时候，可以考虑使用redis的延迟队列

#### 引发的相关问题

1. 队列空了？
> 由于延时队列使用redis的pop操作来循环获取队列里边的数据。。队列空了的话。会导致一直死循环pop..
> 这个时候使用 blpop/brpop （阻塞pop） 如果获取不到数据，则直接sleep。有数据的时候则会唤醒。

2. 空闲连接自动断开。
> 队列空了，就算使用blpop/brpop依然会存在问题，此时如果数据一直为空，则redis服务器会认为此连接为一个空连接，所以会直接断开以减少空闲资源浪费。
> 这边要考虑重试机制

Q1 Redis 作为消息队列为什么不能保证 100% 的可靠性？
生产者消息生成的不可靠性。
消费者消息消费的不可靠性。
服务器宕机的数据持久保存的问题。
